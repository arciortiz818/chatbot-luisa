(function(e){function t(t){for(var a,o,r=t[0],c=t[1],l=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var a={},n={app:0},s=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"351a4aa0"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,a){i=n[e]=[t,a]}));t.push(i[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(d);var i=n[e];if(0!==i){if(i){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,i[1](l)}n[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/chatbot-luisa/",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"02eb":function(e){e.exports=JSON.parse('{"greetings":{"name":"greetings","alias":"Saludo","responses":["Hola, soy Luisa, tu asistente virtual.","Cómo es tu nombre?"],"options":[],"nextIntent":"personal-data","conditions":[],"links":[],"intentIfFails":"","registerLog":false},"fired":{"name":"fired","alias":"Despedida","responses":["Fue un placer, esperamos que vuelvas pronto."],"options":[],"nextIntent":"greetings","conditions":[],"links":[],"intentIfFails":"","registerLog":false},"not-found":{"name":"not-found","alias":"No entiendo","responses":["No entendí tu respuesta..."],"options":[],"nextIntent":"","conditions":[],"links":[],"intentIfFails":"","registerLog":false},"not-accept":{"name":"no-acepta-manejo-datos","alias":"No Acepta Manejo Datos","responses":["De acuerdo, hemos borrado los datos que ingresaste, por lo tanto no puedo seguir ayudándote. Gracias por ponerte en contacto con nosotros. Te invitamos a seguir explorando nuestro sitio web."],"options":[],"nextIntent":"greetings","conditions":[],"links":[],"intentIfFails":"","registerLog":true},"personal-data":{"name":"personal-data","alias":"Tratamiento Datos Personales","responses":["Bienvenido, ¡Aceptas el tratamiento de tus datos personales?"],"options":[],"nextIntent":"main-options","conditions":[["==","si"]],"links":[],"intentIfFails":"not-accept","registerLog":false},"main-options":{"name":"main-options","alias":"Opciones Principales","responses":["Por favor selecciona la opción sobre la que deseas obtener información:"],"options":[{"name":"citas-medicas","value":"Servicios para Citas Médicas"},{"name":"vacunacion-covid","value":"Vacunación Covid"},{"name":"cirugia-preanestesia","value":"Programación Cirugía y Preanestesia"},{"name":"historia-clinica","value":"Solicitud Historia Clínica"},{"name":"telemetrias","value":"Programación Telemetrías"}],"nextIntent":"","conditions":[],"links":[["==","citas-medicas"],["==","vacunacion-covid"],["==","cirugia-preanestesia"],["==","historia-clinica"],["==","telemetrias"]],"intentIfFails":"not-found","registerLog":false},"citas-medicas":{"name":"citas-medicas","alias":"Citas Médicas","responses":["Para solicitud de citas médicas, por favor llena los siguientes datos:"],"options":[],"nextIntent":"request-send","conditions":[["==","citas-medicas-request-send"]],"links":[],"intentIfFails":"main-options","registerLog":true},"vacunacion-covid":{"name":"vacunacion-covid","alias":"Vacunación Covid","responses":["Para programar vacuna contra el covid, por favor llene los siguientes datos:"],"options":[],"nextIntent":"request-send","conditions":[["==","vacunacion-covid-request-send"]],"links":[],"intentIfFails":"main-options","registerLog":true},"cirugia-preanestesia":{"name":"cirugia-preanestesia","alias":"Cirugia y Preanestesia","responses":["Para programación de Cirugía y Preanestesia, por favor llene los siguientes datos. Tenga en cuenta que solo se permite adjuntar archivos pdf:"],"options":[],"nextIntent":"request-send","conditions":[["==","cirugia-preanestesia-request-send"]],"links":[],"intentIfFails":"main-options","registerLog":true},"historia-clinica":{"name":"historia-clinica","alias":"Historia Clínica","responses":["Para solicitud de historias clínicas, por favor llene los siguientes datos. Tenga en cuenta que solo se permite adjuntar archivos pdf:"],"options":[],"nextIntent":"request-send","conditions":[["==","historia-clinica-request-send"]],"links":[],"intentIfFails":"main-options","registerLog":true},"telemetrias":{"name":"telemetrias","alias":"Programación Telemetrías","responses":["Para programación de telemetrías, por favor llene los siguientes datos. Tenga en cuenta que solo se permite adjuntar archivos pdf:"],"options":[],"nextIntent":"request-send","conditions":[["==","telemetrias-request-send"]],"links":[],"intentIfFails":"main-options","registerLog":true},"request-send":{"name":"request-send","alias":"Petición Enviada","responses":["Su petición ha sido enviada. Deseas que te colabore en algo más?"],"options":[],"nextIntent":"main-options","conditions":[["==","si"]],"links":[],"intentIfFails":"fired","log":false}}')},"034f":function(e,t,i){"use strict";i("85ec")},1:function(e,t){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("e792"),i("0cdd");var a=i("2b0e"),n=i("5f5b"),s=i("b1e0");i("ab8b"),i("2dd8"),i("5df9");a["default"].use(n["a"]),a["default"].use(s["a"]);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",{attrs:{fluid:"lg"}},[i("b-row",[i("b-col"),i("b-col",{staticClass:"p-0 m-0",attrs:{cols:"12",sm:"12",md:"12",lg:"7",xl:"6"}},[i("b-card",{staticClass:"m-0 p-0",staticStyle:{height:"93vh"},attrs:{"border-variant":"primary","header-bg-variant":"primary","header-text-variant":"white"},scopedSlots:e._u([{key:"header",fn:function(){return[i("b-list-group-item",{staticClass:"p-0 container-header",staticStyle:{background:"none",border:"none"}},[i("b-avatar",{staticClass:"mr-3",attrs:{variant:"light",src:e.imgAgent,size:"4rem"}}),i("span",{staticClass:"title-card"},[e._v("Luisa, tu asesor virtual")])],1)]},proxy:!0},{key:"footer",fn:function(){return[i("b-input-group",[i("b-form-input",{attrs:{placeholder:"Escribe un mensaje"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send()}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),i("b-input-group-append",[i("b-button",{staticStyle:{color:"#2b6095","font-weight":"600","background-color":"white",border:"none"},on:{click:e.send}},[i("b-icon",{attrs:{icon:"box-arrow-right"}})],1)],1)],1)]},proxy:!0}])},[i("b-card-text",{staticClass:"px-0",staticStyle:{"overflow-y":"auto",height:"100%"},attrs:{id:"box-messages"}},[i("router-view")],1)],1)],1),i("b-col")],1)],1)},r=[],c=i("5530"),l=i("2f62"),d={components:{},data:function(){return{message:""}},computed:Object(c["a"])({},Object(l["c"])(["imgAgent","chatHistory"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["sendMessage"])),{},{send:function(){var e=this;""!=this.message&&this.sendMessage({message:this.message}).then((function(){e.message=""}))}})},u=d,m=(i("034f"),i("2877")),f=Object(m["a"])(u,o,r,!1,null,null,null),b=f.exports,p=(i("d3b7"),i("3ca3"),i("ddb0"),i("8c4f")),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-container",e._l(e.chatHistory,(function(t){return i("b-col",{key:t.id,staticClass:"px-0"},["user"==t.author?i("message-user",{staticClass:"my-3",attrs:{text:t.message}}):e._e(),"agent"==t.author?i("message-agent",{attrs:{text:t.message,intent:t.intent},scopedSlots:e._u([{key:"personal-data",fn:function(){return[i("b-row",{staticClass:"mx-3 mt-3 justify-content-center"},[i("b-button",{staticClass:"mr-2 btn-message",attrs:{disabled:t.id<e.chatHistory.length},on:{click:function(t){return e.sendRta("si")}}},[e._v("Si")]),i("b-button",{staticClass:"btn-message",attrs:{disabled:t.id<e.chatHistory.length},on:{click:function(t){return e.sendRta("no")}}},[e._v("No")])],1)]},proxy:!0},{key:"main-options",fn:function(){return e._l(t.options,(function(a){return i("b-row",{key:a.name,staticClass:"mt-3"},[i("b-button",{staticClass:"btn-message mx-4",attrs:{block:"",disabled:t.id<e.chatHistory.length},on:{click:function(t){return e.sendRta(a.name)}}},[e._v(e._s(a.value))])],1)}))},proxy:!0},{key:"request-send",fn:function(){return[i("b-row",{staticClass:"mt-3"},[i("b-button",{staticClass:"btn-message mx-4",attrs:{block:"",disabled:t.id<e.chatHistory.length},on:{click:function(t){return e.sendRta("si")}}},[e._v("Si, ir al menú princpal")]),i("b-button",{staticClass:"btn-message mx-4",attrs:{block:"",disabled:t.id<e.chatHistory.length},on:{click:function(t){return e.sendRta("no")}}},[e._v("No")])],1)]},proxy:!0},{key:"citas-medicas",fn:function(){return[i("b-row",{staticClass:"mx-3 mt-2 justify-content-center"},[i("b-form",{staticClass:"col-10",on:{submit:e.onSubmitCitMed}},[i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input0",placeholder:"Nombre completo",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.nombre,callback:function(t){e.$set(e.formCitasMedicas,"nombre",t)},expression:"formCitasMedicas.nombre"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input1",placeholder:"Documento Identidad",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.docIdentidad,callback:function(t){e.$set(e.formCitasMedicas,"docIdentidad",t)},expression:"formCitasMedicas.docIdentidad"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input2",placeholder:"Teléfono o Celular",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.telefono,callback:function(t){e.$set(e.formCitasMedicas,"telefono",t)},expression:"formCitasMedicas.telefono"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input3",placeholder:"Email",type:"email",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.email,callback:function(t){e.$set(e.formCitasMedicas,"email",t)},expression:"formCitasMedicas.email"}}),i("b-form-select",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input4",placeholder:"Servicio para su cita",required:"",options:[{text:"Servicio para su cita...",value:null},"ECOGRAFIA","CONSULTA EXTERNA","SERVICIOS AMBULATORIOS","TERAPIAS"],disabled:t.id<e.chatHistory.length},on:{change:function(t){return e.seleccionarServicioCita()}},model:{value:e.formCitasMedicas.servicioCita,callback:function(t){e.$set(e.formCitasMedicas,"servicioCita",t)},expression:"formCitasMedicas.servicioCita"}}),i("b-form-select",{directives:[{name:"show",rawName:"v-show",value:"ECOGRAFIA"!=e.formCitasMedicas.servicioCita&&null!==e.formCitasMedicas.servicioCita,expression:"\n                formCitasMedicas.servicioCita != 'ECOGRAFIA' &&\n                formCitasMedicas.servicioCita !== null\n              "}],staticClass:"mb-2",attrs:{size:"sm",required:"",options:e.subServiciosCita,disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.subServicioCita,callback:function(t){e.$set(e.formCitasMedicas,"subServicioCita",t)},expression:"formCitasMedicas.subServicioCita"}}),i("b-form-input",{directives:[{name:"show",rawName:"v-show",value:"ECOGRAFIA"==e.formCitasMedicas.servicioCita&&null!==e.formCitasMedicas.servicioCita,expression:"\n                formCitasMedicas.servicioCita == 'ECOGRAFIA' &&\n                formCitasMedicas.servicioCita !== null\n              "}],staticClass:"mb-2",attrs:{size:"sm",placeholder:"Escriba el tipo de ecografía...",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.subServicioCita,callback:function(t){e.$set(e.formCitasMedicas,"subServicioCita",t)},expression:"formCitasMedicas.subServicioCita"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form1-input5",placeholder:"EPS, IPS o Particular que remite",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCitasMedicas.ipsRemite,callback:function(t){e.$set(e.formCitasMedicas,"ipsRemite",t)},expression:"formCitasMedicas.ipsRemite"}}),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-message",attrs:{type:"submit",block:"",variant:"light",disabled:t.id<e.chatHistory.length}},[e._v("Enviar")])],1),i("b-col",[i("b-button",{staticClass:"btn-message col",attrs:{block:"",variant:"light",disabled:t.id<e.chatHistory.length},on:{click:function(t){e.sendRta("main-options"),e.resetForm("cita")}}},[e._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"vacunacion-covid",fn:function(){return[i("b-row",{staticClass:"mt-2 justify-content-center"},[i("b-form",{staticClass:"col-10",on:{submit:e.onSubmitVacCov}},[i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form2-input0",placeholder:"Nombre completo",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formVacunasCovid.nombre,callback:function(t){e.$set(e.formVacunasCovid,"nombre",t)},expression:"formVacunasCovid.nombre"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form2-input1",placeholder:"Documento Identidad",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formVacunasCovid.docIdentidad,callback:function(t){e.$set(e.formVacunasCovid,"docIdentidad",t)},expression:"formVacunasCovid.docIdentidad"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form2-input2",placeholder:"Teléfono o Celular",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formVacunasCovid.telefono,callback:function(t){e.$set(e.formVacunasCovid,"telefono",t)},expression:"formVacunasCovid.telefono"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form2-input3",placeholder:"Email",type:"email",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formVacunasCovid.email,callback:function(t){e.$set(e.formVacunasCovid,"email",t)},expression:"formVacunasCovid.email"}}),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-message",attrs:{type:"submit",block:"",variant:"light",disabled:t.id<e.chatHistory.length}},[e._v("Enviar")])],1),i("b-col",[i("b-button",{staticClass:"btn-message col",attrs:{block:"",variant:"light",disabled:t.id<e.chatHistory.length},on:{click:function(t){e.sendRta("main-options"),e.resetForm("covid")}}},[e._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"cirugia-preanestesia",fn:function(){return[i("b-row",{staticClass:"mt-2 justify-content-center"},[i("b-form",{staticClass:"col-10",on:{submit:e.onSubmitCirPre}},[i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input0",placeholder:"Nombre completo",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCirugiaPreanestesia.nombre,callback:function(t){e.$set(e.formCirugiaPreanestesia,"nombre",t)},expression:"formCirugiaPreanestesia.nombre"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input1",placeholder:"Documento Identidad",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCirugiaPreanestesia.docIdentidad,callback:function(t){e.$set(e.formCirugiaPreanestesia,"docIdentidad",t)},expression:"formCirugiaPreanestesia.docIdentidad"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input2",placeholder:"Teléfono o Celular",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCirugiaPreanestesia.telefono,callback:function(t){e.$set(e.formCirugiaPreanestesia,"telefono",t)},expression:"formCirugiaPreanestesia.telefono"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input3",placeholder:"Email",type:"email",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formCirugiaPreanestesia.email,callback:function(t){e.$set(e.formCirugiaPreanestesia,"email",t)},expression:"formCirugiaPreanestesia.email"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formCirugiaPreanestesia.ordenMedica),placeholder:"Adjuntar Orden Médica",accept:".pdf",name:"ordmed","browse-text":"Abrir"},on:{change:e.onFileOneChange},model:{value:e.formCirugiaPreanestesia.ordenMedica,callback:function(t){e.$set(e.formCirugiaPreanestesia,"ordenMedica",t)},expression:"formCirugiaPreanestesia.ordenMedica"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formCirugiaPreanestesia.autorizacionEps),placeholder:"Adjuntar Autorización Eps",accept:".pdf","browse-text":"Abrir"},on:{change:e.onFileTwoChange},model:{value:e.formCirugiaPreanestesia.autorizacionEps,callback:function(t){e.$set(e.formCirugiaPreanestesia,"autorizacionEps",t)},expression:"formCirugiaPreanestesia.autorizacionEps"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formCirugiaPreanestesia.historiaClinica),placeholder:"Adjuntar Historia Clínica",accept:".pdf","browse-text":"Abrir"},on:{change:e.onFileThreeChange},model:{value:e.formCirugiaPreanestesia.historiaClinica,callback:function(t){e.$set(e.formCirugiaPreanestesia,"historiaClinica",t)},expression:"formCirugiaPreanestesia.historiaClinica"}}),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-message",attrs:{type:"submit",block:"",variant:"light",disabled:t.id<e.chatHistory.length}},[e._v("Enviar")])],1),i("b-col",[i("b-button",{staticClass:"btn-message col",attrs:{block:"",variant:"light",disabled:t.id<e.chatHistory.length},on:{click:function(t){e.sendRta("main-options"),e.resetForm("cirugia")}}},[e._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"historia-clinica",fn:function(){return[i("b-row",{staticClass:"mt-2 justify-content-center"},[i("b-form",{staticClass:"col-10",on:{submit:e.onSubmitHistoria}},[i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input0",placeholder:"Nombre completo",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formHistoria.nombre,callback:function(t){e.$set(e.formHistoria,"nombre",t)},expression:"formHistoria.nombre"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input1",placeholder:"Documento Identidad",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formHistoria.docIdentidad,callback:function(t){e.$set(e.formHistoria,"docIdentidad",t)},expression:"formHistoria.docIdentidad"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",id:"form3-input2",placeholder:"Teléfono o Celular",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formHistoria.telefono,callback:function(t){e.$set(e.formHistoria,"telefono",t)},expression:"formHistoria.telefono"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",placeholder:"Email",type:"email",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formHistoria.email,callback:function(t){e.$set(e.formHistoria,"email",t)},expression:"formHistoria.email"}}),i("b-form-datepicker",{staticClass:"mb-2",attrs:{lang:"es",size:"sm",max:new Date,placeholder:"Seleccione Fecha en la que fue hospitalizado",title:"Fecha en la que fue hospitalizado"},model:{value:e.formHistoria.fecha,callback:function(t){e.$set(e.formHistoria,"fecha",t)},expression:"formHistoria.fecha"}}),i("b-form-group",{attrs:{label:"Tipo de Paciente"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[i("b-form-radio-group",{attrs:{"aria-describedby":a},model:{value:e.tipoPaciente,callback:function(t){e.tipoPaciente=t},expression:"tipoPaciente"}},[i("b-form-radio",{attrs:{"aria-describedby":a,name:"radio2",value:"1"},on:{change:function(t){e.scroll(),e.formHistoria.adjunto1=null,e.formHistoria.adjunto2=null}},model:{value:e.tipoPaciente,callback:function(t){e.tipoPaciente=t},expression:"tipoPaciente"}},[e._v("Menor de Edad")]),i("b-form-radio",{attrs:{"aria-describedby":a,name:"radio2",value:"2"},on:{change:function(t){e.scroll(),e.formHistoria.adjunto1=null,e.formHistoria.adjunto2=null}},model:{value:e.tipoPaciente,callback:function(t){e.tipoPaciente=t},expression:"tipoPaciente"}},[e._v("Mayor de Edad")]),i("b-form-radio",{attrs:{"aria-describedby":a,name:"radio3",value:"3"},on:{change:function(t){e.scroll(),e.formHistoria.adjunto1=null,e.formHistoria.adjunto2=null}},model:{value:e.tipoPaciente,callback:function(t){e.tipoPaciente=t},expression:"tipoPaciente"}},[e._v("Ninguno")])],1)]}}],null,!0)}),i("b-row",{directives:[{name:"show",rawName:"v-show",value:1==e.tipoPaciente,expression:"tipoPaciente == 1"}]},[i("b-col",[i("span",[e._v("Por favor adjuntar los siguientes documentos:")]),i("ul",[i("li",[e._v("Registro civil")]),i("li",[e._v("Cédula del padre o madre")])])])],1),i("b-row",{directives:[{name:"show",rawName:"v-show",value:2==e.tipoPaciente,expression:"tipoPaciente == 2"}]},[i("b-col",[i("p",[e._v("Por favor adjuntar los siguientes documentos:")]),i("ul",[i("li",[e._v("Cédula de ciudadanía")])])])],1),i("b-row",{directives:[{name:"show",rawName:"v-show",value:3==e.tipoPaciente,expression:"tipoPaciente == 3"}]},[i("b-col",[i("p",[e._v(" Por favor diligencie y firme el documento "),i("a",{attrs:{href:"#"}},[e._v("anexo")]),e._v(" y adjuntelo ")])])],1),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",placeholder:"Seleccionar...",accept:".pdf","browse-text":"Abrir",name:"input-file-histo-1"},on:{change:e.onFileHistoriaChange1},model:{value:e.formHistoria.adjunto1,callback:function(t){e.$set(e.formHistoria,"adjunto1",t)},expression:"formHistoria.adjunto1"}}),i("b-form-file",{directives:[{name:"show",rawName:"v-show",value:1==e.tipoPaciente,expression:"tipoPaciente == 1"}],staticClass:"mb-2",attrs:{size:"sm",required:1==e.tipoPaciente,placeholder:"Seleccionar...",accept:".pdf","browse-text":"Abrir",name:"input-file-histo-2"},on:{change:e.onFileHistoriaChange2},model:{value:e.formHistoria.adjunto2,callback:function(t){e.$set(e.formHistoria,"adjunto2",t)},expression:"formHistoria.adjunto2"}}),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-message",attrs:{type:"submit",block:"",variant:"light",disabled:t.id<e.chatHistory.length}},[e._v("Enviar")])],1),i("b-col",[i("b-button",{staticClass:"btn-message col",attrs:{block:"",variant:"light",disabled:t.id<e.chatHistory.length},on:{click:function(t){e.sendRta("main-options"),e.resetForm("historia")}}},[e._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"telemetrias",fn:function(){return[i("b-row",{staticClass:"mt-2 justify-content-center"},[i("b-form",{staticClass:"col-10",on:{submit:e.onSubmitTelemetrias}},[i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",placeholder:"Nombre completo",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formTelemetrias.nombre,callback:function(t){e.$set(e.formTelemetrias,"nombre",t)},expression:"formTelemetrias.nombre"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",placeholder:"Documento Identidad",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formTelemetrias.docIdentidad,callback:function(t){e.$set(e.formTelemetrias,"docIdentidad",t)},expression:"formTelemetrias.docIdentidad"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",placeholder:"Teléfono o Celular",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formTelemetrias.telefono,callback:function(t){e.$set(e.formTelemetrias,"telefono",t)},expression:"formTelemetrias.telefono"}}),i("b-form-input",{staticClass:"mb-2",attrs:{size:"sm",placeholder:"Email",type:"email",required:"",disabled:t.id<e.chatHistory.length},model:{value:e.formTelemetrias.email,callback:function(t){e.$set(e.formTelemetrias,"email",t)},expression:"formTelemetrias.email"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formTelemetrias.ordenMedica),placeholder:"Adjuntar Orden Médica",accept:".pdf",name:"ordmed","browse-text":"Abrir"},on:{change:e.onFileOneChange},model:{value:e.formTelemetrias.ordenMedica,callback:function(t){e.$set(e.formTelemetrias,"ordenMedica",t)},expression:"formTelemetrias.ordenMedica"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formTelemetrias.autorizacionEps),placeholder:"Adjuntar Autorización Eps",accept:".pdf","browse-text":"Abrir"},on:{change:e.onFileTwoChange},model:{value:e.formTelemetrias.autorizacionEps,callback:function(t){e.$set(e.formTelemetrias,"autorizacionEps",t)},expression:"formTelemetrias.autorizacionEps"}}),i("b-form-file",{staticClass:"mb-2",attrs:{size:"sm",required:"",state:Boolean(e.formTelemetrias.historiaClinica),placeholder:"Adjuntar Historia Clínica",accept:".pdf","browse-text":"Abrir"},on:{change:e.onFileThreeChange},model:{value:e.formTelemetrias.historiaClinica,callback:function(t){e.$set(e.formTelemetrias,"historiaClinica",t)},expression:"formTelemetrias.historiaClinica"}}),i("b-row",[i("b-col",[i("b-button",{staticClass:"btn-message",attrs:{type:"submit",block:"",variant:"light",disabled:t.id<e.chatHistory.length}},[e._v("Enviar")])],1),i("b-col",[i("b-button",{staticClass:"btn-message col",attrs:{block:"",variant:"light",disabled:t.id<e.chatHistory.length},on:{click:function(t){e.sendRta("main-options"),e.resetForm("telemetria")}}},[e._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0}],null,!0)}):e._e()],1)})),1)},g=[],C=(i("99af"),i("7db0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-list-group-item",{staticClass:"d-flex justify-content-end align-items-start container-bubble-user px-0"},[i("b-list-group-item",{staticClass:"justify-content-start text-justify bubble-user"},[e._v(" "+e._s(e.text)+" ")]),i("b-avatar",{staticClass:"ml-2",attrs:{variant:"secondary",size:"3rem"}})],1)],1)}),v=[],I={name:"MessageUser",props:{text:String}},y=I,E=Object(m["a"])(y,C,v,!1,null,"66c7e81b",null),x=E.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-list-group-item",{staticClass:"d-flex justify-content-start align-items-start px-0 py-1 container-bubble-agent"},[i("b-avatar",{staticClass:"mr-2",attrs:{variant:"light",src:e.imgAgent,size:"3.5rem"}}),i("b-list-group-item",{staticClass:"justify-content-start text-justify bubble-agent"},[e._v(" "+e._s(e.text)+" "),"personal-data"==e.intent?e._t("personal-data"):e._e(),"main-options"==e.intent?e._t("main-options"):e._e(),"request-send"==e.intent?e._t("request-send"):e._e(),"citas-medicas"==e.intent?e._t("citas-medicas"):e._e(),"vacunacion-covid"==e.intent?e._t("vacunacion-covid"):e._e(),"cirugia-preanestesia"==e.intent?e._t("cirugia-preanestesia"):e._e(),"historia-clinica"==e.intent?e._t("historia-clinica"):e._e(),"telemetrias"==e.intent?e._t("telemetrias"):e._e()],2)],1)],1)},P=[],T={name:"MessageAgent",props:{text:String,intent:""},computed:Object(c["a"])({},Object(l["c"])(["imgAgent","currentIntent"])),mounted:function(){}},k=T,O=Object(m["a"])(k,A,P,!1,null,"5b1416f5",null),H=O.exports,S={name:"Home",components:{MessageUser:x,MessageAgent:H},data:function(){return{messageUser:"",formCitasMedicas:{nombre:"",docIdentidad:"",telefono:"",email:"",servicioCita:null,subServicioCita:null,ipsRemite:""},formVacunasCovid:{nombre:"",docIdentidad:"",telefono:"",email:""},formCirugiaPreanestesia:{nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null},formHistoria:{nombre:"",docIdentidad:"",telefono:"",email:"",fecha:null,adjunto1:null,adjunto2:null},formTelemetrias:{nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null},tipoPaciente:null,subServiciosCita:null,serviciosCita:[{servicio:"ECOGRAFIA",placeholder:"Tipo de Ecografía...",options:[]},{servicio:"CONSULTA EXTERNA",placeholder:"Seleccione la especialidad...",options:[{text:"Seleccione la especialidad",value:null},"CIRUGIA PEDIATRICA","ENDOCRINOLOGIA PEDIATRICA","GASTROENTEROLOGIA PEDIATRICA","GINECOLOGÍA Y OBSTETRICIA","GINECOLOGIA ONCOLOGICA","GINECOLOGA ENDOCRINOLOGICA","INFECTOLOGIA PEDIATRICA","NEFROLOGIA PEDIATRICA","NEUMOLOGIA PEDIATRICA","NEUROCIRUGIA","NEUROLOGIA PEDIATRICA","ORTOPEDIA","ORTOPEDIA PEDIATRICA","PERINATOLOGIA","REUMATOLOGIA","UROLOGIA PEDIATRICA"]},{servicio:"SERVICIOS AMBULATORIOS",placeholder:"Tipo servicio...",options:[{text:"Seleccione el servicio...",value:null},"COLOCACIÓN DE ARETES","CURACIONES","INYECTOLOGIA","APLICACIÓN DE HIERRO PARENTERAL"]},{servicio:"TERAPIAS",placeholder:"Seleccione terapia...",options:[{text:"Seleccione la terapía",value:null},"TERAPIAS FONOAUDIOLOGIA","TERAPIAS FISICAS","TERAPIAS OCUPACIONALES"]}]}},updated:function(){if(document.getElementById("box-messages")){var e=document.getElementById("box-messages").scrollTop;document.getElementById("box-messages").scrollTop=e+1e3}},computed:Object(c["a"])({},Object(l["c"])(["chatHistory","currentIntent"])),mounted:function(){this.sendMessage({message:"greetings"})},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["sendMessage","sendEmail"])),{},{scroll:function(){if(document.getElementById("box-messages")){var e=document.getElementById("box-messages").scrollTop;document.getElementById("box-messages").scrollTop=e+1e3}},sendRta:function(e){this.sendMessage({message:e})},onSubmitCitMed:function(e){e.preventDefault();var t="\n\t       <div>\n\t         <table>\n\t           <tbody>\n               <tr>\n\t               <td><b>Nombre Completo:</b></td>\n\t               <td>".concat(this.formCitasMedicas.nombre,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Documento de Identificación:</b></td>\n\t               <td>").concat(this.formCitasMedicas.docIdentidad,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Teléfono:</b></td>\n\t               <td>").concat(this.formCitasMedicas.telefono,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Email:</b></td>\n\t               <td>").concat(this.formCitasMedicas.email,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Servicio para la cita:</b></td>\n\t               <td>").concat(this.formCitasMedicas.servicioCita,"</td>\n\t             </tr>\n               <tr>\n\t               <td><b>Tipo de Servicio:</b></td>\n\t               <td>").concat(this.formCitasMedicas.subServicioCita,"</td>\n\t             </tr>\n               <tr>\n\t               <td><b>Eps, Ips o Particular que remite:</b></td>\n\t               <td>").concat(this.formCitasMedicas.ipsRemite,"</td>\n\t             </tr>\n\t           </tbody>\n\t         </table>\n\t       </div>\n\t     ");this.sendEmail({to:"citas@clinicasanluis.com.co",message:t,subject:"Solicitud de Cita Médica - Luisa",intent:"Form Citas Médicas"}),this.formCitasMedicas={nombre:"",docIdentidad:"",telefono:"",email:"",servicioCita:null,ipsRemite:""}},onSubmitVacCov:function(e){e.preventDefault();var t="\n\t       <div>\n\t         <table>\n\t           <tbody>\n               <tr>\n\t               <td><b>Nombre Completo:</b></td>\n\t               <td>".concat(this.formVacunasCovid.nombre,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Documento de Identificación:</b></td>\n\t               <td>").concat(this.formVacunasCovid.docIdentidad,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Teléfono:</b></td>\n\t               <td>").concat(this.formVacunasCovid.telefono,"</td>\n\t             </tr>\n\t             <tr>\n\t               <td><b>Email:</b></td>\n\t               <td>").concat(this.formVacunasCovid.email,"</td>\n\t             </tr>\n\t           </tbody>\n\t         </table>\n\t       </div>\n\t     ");this.sendEmail({to:"covid@clinicasanluis.com.co",message:t,subject:"Vacunación Covid-19 - Luisa",intent:"Form Vacunación Covid"}),this.formVacunasCovid={nombre:"",docIdentidad:"",telefono:"",email:""}},onSubmitCirPre:function(e){e.preventDefault();var t="\n            <div>\n              <table>\n                <tbody>\n                  <tr>\n                    <td><b>Nombre Completo:</b></td>\n                    <td>".concat(this.formCirugiaPreanestesia.nombre,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Documento de Identificación:</b></td>\n                    <td>").concat(this.formCirugiaPreanestesia.docIdentidad,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Teléfono:</b></td>\n                    <td>").concat(this.formCirugiaPreanestesia.telefono,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Email:</b></td>\n                    <td>").concat(this.formCirugiaPreanestesia.email,"</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          ");this.sendEmail({to:"preanestesia@clinicasanluis.com.co",message:t,subject:"Cirugia y Preanestesia - Luisa",intent:"Form Cirugia y Preanestesia",atached:!0,docIdentidad:this.formCirugiaPreanestesia.docIdentidad,files:[this.formCirugiaPreanestesia.ordenMedica,this.formCirugiaPreanestesia.autorizacionEps,this.formCirugiaPreanestesia.historiaClinica]}),this.formCirugiaPreanestesia={nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null}},onFileOneChange:function(e){this.formCirugiaPreanestesia.ordenMedica=e.target.files[0]},onFileTwoChange:function(e){this.formCirugiaPreanestesia.autorizacionEps=e.target.files[0]},onFileThreeChange:function(e){this.formCirugiaPreanestesia.historiaClinica=e.target.files[0]},onFileHistoriaChange1:function(e){this.formHistoria.adjunto1=e.target.files[0]},onFileHistoriaChange2:function(e){this.formHistoria.adjunto2=e.target.files[0]},onSubmitHistoria:function(e){e.preventDefault();var t="\n            <div>\n              <table>\n                <tbody>\n                  <tr>\n                    <td><b>Nombre Completo:</b></td>\n                    <td>".concat(this.formHistoria.nombre,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Documento de Identificación:</b></td>\n                    <td>").concat(this.formHistoria.docIdentidad,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Teléfono:</b></td>\n                    <td>").concat(this.formHistoria.telefono,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Email:</b></td>\n                    <td>").concat(this.formHistoria.email,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Fecha Historia Clínica:</b></td>\n                    <td>").concat(this.formHistoria.fecha,"</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          ");console.log(this.formHistoria.adjuntos),this.sendEmail({to:"historias@clinicasanluis.com.co",message:t,subject:"Solicitud Historia Clínica - Luisa",intent:"Form Historia Clínica",atached:!0,docIdentidad:this.formHistoria.docIdentidad,files:1==this.tipoPaciente?[this.formHistoria.adjunto1,this.formHistoria.adjunto2]:[this.formHistoria.adjunto1]}),this.formHistoria={nombre:"",docIdentidad:"",telefono:"",email:"",fecha:null},this.tipoPaciente=null},onSubmitTelemetrias:function(e){e.preventDefault();var t="\n            <div>\n              <table>\n                <tbody>\n                  <tr>\n                    <td><b>Nombre Completo:</b></td>\n                    <td>".concat(this.formTelemetrias.nombre,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Documento de Identificación:</b></td>\n                    <td>").concat(this.formTelemetrias.docIdentidad,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Teléfono:</b></td>\n                    <td>").concat(this.formTelemetrias.telefono,"</td>\n                  </tr>\n                  <tr>\n                    <td><b>Email:</b></td>\n                    <td>").concat(this.formTelemetrias.email,"</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          ");this.sendEmail({to:"lider.admision@clinicasanluis.com.co",message:t,subject:"Cirugia y Preanestesia - Luisa",intent:"Form Cirugia y Preanestesia",atached:!0,docIdentidad:this.formTelemetrias.docIdentidad,files:[this.formTelemetrias.ordenMedica,this.formTelemetrias.autorizacionEps,this.formTelemetrias.historiaClinica]}),this.formTelemetrias={nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null}},seleccionarServicioCita:function(){var e=this,t=this.serviciosCita.find((function(t){return t.servicio==e.formCitasMedicas.servicioCita}));this.subServiciosCita=t.options},resetForm:function(e){switch(e){case"cita":this.formCitasMedicas={nombre:"",docIdentidad:"",telefono:"",email:"",servicioCita:null,subServicioCita:null,ipsRemite:""};break;case"covid":this.formVacunasCovid={nombre:"",docIdentidad:"",telefono:"",email:""};break;case"cirugia":this.formCirugiaPreanestesia={nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null};break;case"historia":this.formHistoria={nombre:"",docIdentidad:"",telefono:"",email:"",fecha:null,adjunto1:null,adjunto2:null};break;case"telemetria":this.formTelemetrias={nombre:"",docIdentidad:"",telefono:"",email:"",ordenMedica:null,autorizacionEps:null,historiaClinica:null};break;default:break}}})},M=S,j=Object(m["a"])(M,h,g,!1,null,null,null),_=j.exports;a["default"].use(p["a"]);var w=[{path:"/",name:"Home",component:_},{path:"/about",name:"About",component:function(){return i.e("about").then(i.bind(null,"f820"))}}],R=new p["a"]({mode:"history",base:"/chatbot-luisa/",routes:w}),q=R,N=i("1da1"),z=(i("96cf"),i("159b"),i("b0c0"),i("bc3a")),F=i.n(z),L=i("02eb"),D=i("2591"),$=(i("588e"),{apiKey:"AIzaSyAaS40woQ6w3aelS2N6L34RzbGKgpXFN2E",authDomain:"chatbot-luisa.firebaseapp.com",projectId:"chatbot-luisa",storageBucket:"chatbot-luisa.appspot.com",messagingSenderId:"645471949425",appId:"1:645471949425:web:53afe02b91c7e6af6fc1d0",measurementId:"G-QSZ48B0C2Q"});D["a"].initializeApp($);var G=D["a"].storage(),V=G.ref();a["default"].use(l["a"]),console.log("https://us-central1-chatbot-luisa.cloudfunctions.net/chatbot/api/chat/log");var U=new l["a"].Store({state:{messageUser:"",chatHistory:[],currentIntent:"",currentIntentAlias:"",currentIntentOptions:[],imgAgent:"img/luisa.png"},mutations:{ADD_MESSAGE_HISTORY:function(e,t){t.messages.forEach((function(i){e.chatHistory.push({id:e.chatHistory.length+1,author:t.author,message:i,intent:t.intent,options:t.options})}))},SET_CURRENT_INTENT:function(e,t){e.currentIntent=t.currentIntent,e.currentIntentAlias=t.currentIntentAlias},SET_CURRENT_INTENT_OPTIONS:function(e,t){e.currentIntentOptions=t.options}},actions:{sendMessage:function(e,t){var i=e.state,a=e.dispatch;e.commit;return new Promise((function(e,n){var s=t.message,o=i.currentIntentOptions.find((function(e){return e.name==s}));"undefined"!==typeof o&&(s=o.value),"main-options"==s&&(s="Opciones Principales"),"greetings"!=s&&"citas-medicas-request-send"!=s&&"vacunacion-covid-request-send"!=s&&"cirugia-preanestesia-request-send"!=s&&"historia-clinica-request-send"!=s&&"telemetrias-request-send"!=s&&a("setHistory",{author:"user",messages:[s],intent:"",options:[]}),a("chat",{message:t.message,currentIntent:i.currentIntent}).then((function(t){var i=t.response;a("setHistory",Object(c["a"])(Object(c["a"])({},i),{},{author:"agent"})),a("setIntent",{currentIntent:i.currentIntent,currentIntentAlias:i.currentIntentAlias}),!0===i.registerLog?(console.log("registra log"),F.a.post("https://us-central1-chatbot-luisa.cloudfunctions.net/chatbot/api/chat/log",{apiKey:"5f6ca6d59d8e240a4c39968a",intent:i.currentIntent,intentAlias:i.currentIntentAlias,appId:1})):console.log("no registra log"),a("setIntentOptions",i.options),e()})).catch((function(e){console.log(e),n()}))}))},getMessages:function(e){var t=e.state;return t.chatHistory},setIntent:function(e,t){var i=e.commit;i("SET_CURRENT_INTENT",{currentIntent:t.currentIntent,currentIntentAlias:t.currentIntentAlias})},setIntentOptions:function(e,t){var i=e.commit;i("SET_CURRENT_INTENT_OPTIONS",{options:t})},setHistory:function(e,t){var i=e.commit;i("ADD_MESSAGE_HISTORY",{author:t.author,messages:t.messages,intent:t.currentIntent,options:t.options})},chat:function(e,t){e.state;return new Promise((function(e,i){var a=t.currentIntent,n=t.message,s={},o={},r={};s=L["greetings"],a&&(s=L[a]?L[a]:L["not-found"]),o=L[s.nextIntent]&&a?L[s.nextIntent]:s,r=L[s.intentIfFails]?L[s.intentIfFails]:null;var c=s.links,l=null;c.forEach((function(e){switch(e[0]){case"==":Boolean("'".concat(n,"'")=="'".concat(e[1],"'"))&&(l=e[1]);break;default:break}}));var d=s.conditions,u=!0;d.forEach((function(e){var t=null;switch(e[0]){case"==":t=Boolean("'".concat(n,"'")=="'".concat(e[1],"'"));break;case"!=":t=Boolean("'".concat(n,"'")!="'".concat(e[1],"'"));break;default:break}!1===t&&(u=!1)})),l&&(o=L[l]);var m,f,b,p,h="";!1===u||c.length>0&&!l?(m=r.responses,f=r.name,b=r.alias,p=r.options,h=r.registerLog):(m=o.responses,f=o.name,b=o.alias,p=o.options,h=o.registerLog);var g={success:!0,response:{messages:m,currentIntent:f,currentIntentAlias:b,options:p,registerLog:h}};e(g)}))},sendEmail:function(e,t){return Object(N["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.state,e.commit,n=e.dispatch,n("setHistory",{author:"agent",messages:["Un momento, estamos procesando sus datos."],intent:a.currentIntent,options:[]}),s=[],!t.docIdentidad||""===t.docIdentidad){i.next=7;break}return i.next=6,n("attachFiles",{docIdentidad:t.docIdentidad,files:t.files});case 6:s=i.sent;case 7:o={apiKey:"5f6ca6d59d8e240a4c39968a",subject:t.subject,to:t.to,message:t.message,intent:a.currentIntent,intentAlias:a.currentIntentAlias,appId:1,attached:s},F.a.post("https://us-central1-chatbot-luisa.cloudfunctions.net/chatbot/api/email/send",o).then((function(e){n("sendMessage",{message:a.currentIntent+"-request-send"})})).catch((function(e){console.log(e)}));case 9:case"end":return i.stop()}}),i)})))()},attachFiles:function(e,t){return Object(N["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o,r,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.state,""!=t.docIdentidad){i.next=3;break}return i.abrupt("return",[]);case 3:for(a=t.docIdentidad,n=t.files,s=[],o=function(e){n[e];var t=new Promise((function(t,i){var s=n[e],o=V.child("adjunto_".concat(e+1,"_").concat(a,".pdf"));o.put(s).then((function(e){t(!0)})).catch((function(e){return i(e)}))}));s.push(t)},r=0;r<n.length;r++)o(r);return i.next=10,Promise.all(s).then((function(e){for(var t=[],i=0;i<n.length;i++){n[i];t.push({path:"adjunto_".concat(i+1,"_").concat(a,".pdf"),name:"adjunto_".concat(i+1,"_").concat(a,".pdf")})}return t}));case 10:return c=i.sent,i.abrupt("return",c);case 12:case"end":return i.stop()}}),i)})))()}},modules:{}}),B=i("28dd");a["default"].use(B["a"]),a["default"].config.productionTip=!1,new a["default"]({router:q,store:U,render:function(e){return e(b)}}).$mount("#app")},"85ec":function(e,t,i){}});
//# sourceMappingURL=app.08bd267e.js.map